{{ if .Params.slides }}
<div class="slideshow-container">
  <div class="slideshow">
    {{ range $index, $slide := .Params.slides }}
    {{ $image := $.Page.Resources.GetMatch $slide.image }}
    <div class="slide {{ if eq $index 0 }}active{{ else }}inactive{{ end }}" data-index="{{ $index }}">
      <div class="slide-content">
        <img src="{{ $image.RelPermalink }}" alt="{{ $slide.caption }}" class="slide-image">
      </div>
    </div>
    {{ end }}
    
    <div class="slide-footer">
      <div class="slide-count">
        <span id="current-slide">1</span> / <span id="total-slides">{{ len .Params.slides }}</span>
      </div>
      
      {{ range $index, $slide := .Params.slides }}
      <div class="caption {{ if eq $index 0 }}active{{ else }}inactive{{ end }}">
        {{ $slide.caption }}
      </div>
      {{ end }}
    </div>
    
    <button class="slide-nav prev" aria-label="Previous slide">&lt;</button>
    <button class="slide-nav next" aria-label="Next slide">&gt;</button>
  </div>
</div>
{{ end }}